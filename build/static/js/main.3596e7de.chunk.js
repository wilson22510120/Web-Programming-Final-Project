(this["webpackJsonprics-chat"]=this["webpackJsonprics-chat"]||[]).push([[0],{75:function(e,t,a){},76:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var c=a(5),n=a(0),r=a.n(n),s=a(20),i=a.n(s),l=(a(75),a(52)),o=a(15),u=(a(76),a(85)),b=a(87),d=a(68),j=a(88),p=a(89),m=a(90),y=a(91),O=a.p+"static/media/1.c3911d68.jpg",g=a.p+"static/media/2.a62a550e.jpg",f=a.p+"static/media/3.56db00c3.jpg",h=a.p+"static/media/4.429044d9.jpg",x=a.p+"static/media/5.50530831.jpg",v=a.p+"static/media/6.3b407138.jpg",N=a.p+"static/media/7.d4d98984.jpg",k=a.p+"static/media/8.f87acdd6.jpg",S=a.p+"static/media/back.fe6d8deb.jpg",w=a.p+"static/media/background.f4f7cebd.jpg",A=[S,O,g,f,h,x,v,N,k,a.p+"static/media/parchment.ddc85023.jpg",w],C=window.location.origin.replace(/^http/,"ws"),I=new WebSocket(C),D=u.a.Option;var B=function(){var e=Object(n.useState)([0,0,0,0]),t=Object(o.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)([[],[],[],[]]),i=Object(o.a)(s,2),O=i[0],g=i[1],f=Object(n.useState)([]),h=Object(o.a)(f,2),x=h[0],v=h[1],N=Object(n.useState)([]),k=Object(o.a)(N,2),S=k[0],w=k[1],C=Object(n.useState)(""),B=Object(o.a)(C,2),P=B[0],Y=B[1],F=Object(n.useState)(!1),J=Object(o.a)(F,2),E=J[0],L=J[1],U=Object(n.useState)(""),W=Object(o.a)(U,2),T=W[0],z=W[1],H=Object(n.useState)(!1),M=Object(o.a)(H,2),R=M[0],q=M[1],G=Object(n.useState)({}),K=Object(o.a)(G,2),Q=K[0],V=K[1],X=Object(n.useState)("lobby"),Z=Object(o.a)(X,2),$=Z[0],_=Z[1],ee=Object(n.useState)([]),te=Object(o.a)(ee,2),ae=te[0],ce=te[1],ne=Object(n.useState)([]),re=Object(o.a)(ne,2),se=re[0],ie=re[1],le=Object(n.useState)(""),oe=Object(o.a)(le,2),ue=oe[0],be=oe[1],de=Object(n.useState)(""),je=Object(o.a)(de,2),pe=je[0],me=je[1],ye=Object(n.useState)(-1),Oe=Object(o.a)(ye,2),ge=Oe[0],fe=Oe[1],he=Object(n.useState)(-1),xe=Object(o.a)(he,2),ve=xe[0],Ne=xe[1],ke=Object(n.useState)(16),Se=Object(o.a)(ke,2),we=Se[0],Ae=Se[1],Ce=(Object(n.useRef)(null),Object(n.useState)(!1)),Ie=Object(o.a)(Ce,2),De=Ie[0],Be=Ie[1],Pe=Object(n.useState)(-1),Ye=Object(o.a)(Pe,2),Fe=Ye[0],Je=Ye[1];window.onunload=function(){return Ee(["bye",ge]),"bye"};var Ee=function(e){I.send(JSON.stringify(e))},Le=function(){g([[],[],[],[]]),v([!1,!1,!1,!1]),w(ae.map((function(e){return 0!==e}))),ie([]),me(""),Ae(-1),Ae(16),Be(!1),Je(-1)},Ue=function(e){if(console.log(x,"aaa"),""===e)return console.log("n is null"),!1;if((e=Number(e))>4||e<0)return console.log("out of range"),!1;if(!Number.isInteger(e))return console.log("n is not a interger"),!1;if(!S[e]||e===ge)return console.log("yourself or dead player"),!1;if(x[e])for(var t=(e+1)%4;t!==e;){if(S[t]&&t!==ge&&!x[t])return!1;t=(t+1)%4}return!0},We=function(e){0===e||1===e?1===se[e]?Ue(T)?Number.isInteger(Number(P))?Number(P)>8||Number(P)<1?Te({type:"error",msg:"Please input an valid card number"}):1===Number(P)?Te({type:"error",msg:"Sorry, you can't guess card 1"}):(Ee(["play",[se[e],T,P]]),me(""),Y(""),ie((function(t){return 0===e?[t[1]]:[t[0]]}))):Te({type:"error",msg:"Please input an valid card number"}):Te({type:"error",msg:"Can't choose that player"}):2===se[e]?Ue(T)?(Ee(["play",[se[e],T]]),me(""),ie((function(t){return 0===e?[t[1]]:[t[0]]}))):Te({type:"error",msg:"Can't choose that player"}):3===se[e]?Ue(T)?(Ee(["play",[se[e],Number(T),Number(se[1-e])]]),me(""),ie((function(t){return 0===e?[t[1]]:[t[0]]}))):Te({type:"error",msg:"Can't choose that player"}):4===se[e]?(Ee(["play",[se[e]]]),me(""),ie((function(t){return 0===e?[t[1]]:[t[0]]}))):5===se[e]?7===se[1-e]?Te({type:"error",msg:"You have to play card 7"}):Ue(T)?(Ee(["play",[se[e],Number(T)]]),me(""),ie((function(t){return 0===e?[t[1]]:[t[0]]}))):Te({type:"error",msg:"Can't choose that player"}):6===se[e]?7===se[1-e]?Te({type:"error",msg:"You have to play card 7"}):Ue(T)?(Ee(["play",[se[e],Number(T),se[1-e]]]),me(""),ie((function(t){return 0===e?[t[1]]:[t[0]]}))):Te({type:"error",msg:"Can't choose that player"}):7===se[e]?(Ee(["play",[se[e]]]),me(""),ie((function(t){return 0===e?[t[1]]:[t[0]]}))):8===se[e]&&(me(""),Te({type:"error",msg:"AAAAAAAAAA"})):V({type:"error",msg:"AAAAA"})};I.onopen=function(){Ee(["init"])},I.onmessage=function(e){var t=e.data,a=JSON.parse(t),c=Object(o.a)(a,2),n=c[0],s=c[1];switch(console.log(n),n){case"status":V(s);break;case"reset":V({type:"error",msg:"Somebody left the game, redirect to lobby now..."}),Le(),_("lobby"),ce([]),me(""),be(""),r([0,0,0,0]);case"seat":ce(s.map((function(e){return""===e?0:e}))),w(s.map((function(e){return""!==e}))),v((function(){return s.map((function(){return!1}))}));break;case"deckNum":Ae(s);break;case"sitSuccess":fe(s),_("waiting for start...");break;case"turn":console.log($),Be(!0),s===ge?_("Your turn!!"):S[ge]&&_("wait"),v((function(e){return e.map((function(e,t){return t!==s&&e}))})),Ne(s);break;case"draw":ie((function(){return[].concat(Object(l.a)(se),[s])}));break;case"win":r((function(e){return e.map((function(e,t){return t===s?e+1:e}))})),_(s===ge?"Your Win!":"Player"+String(s)+" Won!!"),Le();break;case"lose":s===ge&&_("Your lost!");var i=Object(l.a)(S);i[s]=!1,w(i),Te({type:"info",msg:"player"+String(s)+" has been eliminated"});break;case"invisible":v((function(e){return e.map((function(e,t){return t===s||e}))}));break;case"discard":ie((function(){return[]}));break;case"lastPlay":Je(s);break;case"setHand":ie((function(){return[s]}));break;case"boardUpdate":console.log("in");var u=Object(l.a)(O);u[s[0]].push(s[1]),g((function(){return u}));break;case"error":Te({type:"error",msg:s})}};var Te=function(e){if(e.msg){var t=e.type,a={content:e.msg,duration:2};switch(t){case"success":b.b.success(a);break;case"info":b.b.info(a);break;case"danger":default:b.b.error(a)}}};return Object(n.useEffect)((function(){ve!==ge||""===pe||1!==Number(pe)&&0!==Number(pe)?(L(!1),q(!1)):1===se[Number(pe)]||2===se[Number(pe)]||3===se[Number(pe)]||5===se[Number(pe)]||6===se[Number(pe)]?(1===se[Number(pe)]?L(!0):L(!1),q(!0)):(L(!1),q(!1))}),[pe,ve,ge,se]),Object(n.useEffect)((function(){Te(Q)}),[Q]),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("div",{className:"App-title",children:Object(c.jsx)("h1",{children:$})}),Object(c.jsxs)("div",{className:"App-main",children:[Object(c.jsxs)("div",{className:"playertableA",children:[Object(c.jsxs)("div",{className:"playertablename",style:{textDecoration:!De||S[ge]?"":"line-through",backgroundImage:"url(".concat(A[9],")")},children:[0!==ae[(ge+4)%4]?ae[(ge+4)%4]+"/"+a[ge]:De?"":"(waiting for player...)",Object(c.jsx)(p.a,{spin:!0,style:{display:De&&ge===ve?"":"none"}})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{id:"playertableA1",className:"playercardA",onClick:ve===ge&&De?function(){me(0)}:function(){},style:{backgroundImage:De&&S[ge]?"url(".concat(A[se[0]],")"):"none",border:0===pe?"3px groove white":""}}),Object(c.jsx)("div",{id:"playertableA2",className:"playercardA",onClick:ve===ge&&De?function(){me(1)}:function(){},style:{backgroundImage:De&&ve===ge?"url(".concat(A[se[1]],")"):"none",border:1===pe?"3px groove white":""}})]})]}),Object(c.jsxs)("div",{className:"playertableB",children:[Object(c.jsxs)("div",{className:"playertablename",style:{textDecoration:!De||S[(ge+1)%4]?"":"line-through",backgroundImage:De&&0===ae[(ge+1)%4]?"":"url(".concat(A[9],")")},children:[0!==ae[(ge+1)%4]?ae[(ge+1)%4]+"/"+a[(ge+1)%4]:De?"":"(waiting for player...)",Object(c.jsx)(p.a,{spin:!0,style:{display:De&&(ge+1)%4===ve?"":"none"}})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{id:"playertableB1",className:"playercard",style:{backgroundImage:De&&S[(ge+1)%4]?"url(".concat(A[0],")"):"none"}}),Object(c.jsx)("div",{id:"playertableB2",className:"playercard",style:{backgroundImage:De&&ve===(ge+1)%4&&S[(ge+1)%4]?"url(".concat(A[0],")"):"none"}})]})]}),Object(c.jsxs)("div",{className:"playertableC",children:[Object(c.jsxs)("div",{className:"playertablename",style:{textDecoration:!De||S[(ge+2)%4]?"":"line-through",backgroundImage:De&&0===ae[(ge+2)%4]?"":"url(".concat(A[9],")")},children:[0!==ae[(ge+2)%4]?ae[(ge+2)%4]+"/"+a[(ge+2)%4]:De?"":"(waiting for player...)",Object(c.jsx)(p.a,{spin:!0,style:{display:De&&(ge+2)%4===ve?"":"none"}})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{id:"playertableC1",className:"playercard",style:{backgroundImage:De&&S[(ge+2)%4]?"url(".concat(A[0],")"):"none"}}),Object(c.jsx)("div",{id:"playertableC2",className:"playercard",style:{backgroundImage:De&&ve===(ge+2)%4&&S[(ge+2)%4]?"url(".concat(A[0],")"):"none"}})]})]}),Object(c.jsxs)("div",{className:"playertableD",children:[Object(c.jsxs)("div",{className:"playertablename",style:{textDecoration:!De||S[(ge+3)%4]?"":"line-through",backgroundImage:De&&0===ae[(ge+3)%4]?"":"url(".concat(A[9],")")},children:[0!==ae[(ge+3)%4]?ae[(ge+3)%4]+"/"+a[(ge+2)%4]:De?"":"(waiting for player...)",Object(c.jsx)(p.a,{spin:!0,style:{display:De&&(ge+3)%4===ve?"":"none"}})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{id:"playertableD1",className:"playercard",style:{backgroundImage:De&&S[(ge+3)%4]?"url(".concat(A[0],")"):"none"}}),Object(c.jsx)("div",{id:"playertableD2",className:"playercard",style:{backgroundImage:De&&ve===(ge+3)%4&&S[(ge+3)%4]?"url(".concat(A[0],")"):"none"}})]})]}),Object(c.jsx)("div",{style:{"background-color":"white",display:"lobby"===$||"waiting for start..."===$?"":"none"},children:Object(c.jsx)(d.a,{id:"sitButton",type:-1===ge?"":"primary",shape:"circle",icon:-1===ge?Object(c.jsx)(m.a,{}):Object(c.jsx)(y.a,{}),size:"large",onClick:-1===ge?function(){if(""===ue)Te({type:"error",msg:"Username can't be empty"});else for(var e=0;e<ae.length;e++)if(0===ae[e]){Ee(["sitDown",[e,ue]]);break}}:function(){-1!==ge&&(Ee(["leave",ge]),ce((function(e){return e.map((function(e,t){return t===ge?0:e}))})),fe(-1),_("lobby"))}})}),Object(c.jsxs)("div",{className:"tablecenter",style:"wait"===$||"Your turn!!"===$?{}:{display:"none"},children:[Object(c.jsxs)("div",{className:"discardpile",children:[Object(c.jsx)("div",{className:"lastplayed",children:"Last played"}),Object(c.jsx)("div",{className:"cardlastplayed",style:{backgroundImage:-1!==Fe?"url(".concat(A[Fe],")"):"none"}})]}),Object(c.jsxs)("div",{className:"deck",children:[Object(c.jsx)("div",{className:"cardremaining",children:"Deck(x"+String(we)+")"}),Object(c.jsx)("div",{className:"deckcard"})]})]})]}),Object(c.jsx)("div",{style:De?{display:"none"}:{},children:Object(c.jsx)(j.a,{className:"input",placeholder:"Username",value:ue,onChange:function(e){return be(e.target.value)},style:{marginBottom:10},disabled:"lobby"!==$})}),Object(c.jsxs)("div",{children:[Object(c.jsx)(u.a,{className:"select",placeholder:"Select a player",style:R?{width:180}:{display:"none"},onChange:function(e){z(ae.indexOf(e))},children:ae.filter((function(e){return 0!==e&&e!==ue&&S[ae.indexOf(e)]})).map((function(e,t){return Object(c.jsx)(D,{className:"option",value:e,children:e})}))}),Object(c.jsxs)(u.a,{className:"select",placeholder:"Select a card number",style:E?{width:180}:{display:"none"},onChange:function(e){return Y(e)},children:[Object(c.jsx)(D,{className:"option",value:"2",children:" 2 "}),Object(c.jsx)(D,{className:"option",value:"3",children:" 3 "}),Object(c.jsx)(D,{className:"option",value:"4",children:" 4 "}),Object(c.jsx)(D,{className:"option",value:"5",children:" 5 "}),Object(c.jsx)(D,{className:"option",value:"6",children:" 6 "}),Object(c.jsx)(D,{className:"option",value:"7",children:" 7 "}),Object(c.jsx)(D,{className:"option",value:"8",children:" 8 "})]})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{className:"button",onClick:function(){return console.log(De,S)},children:"aaa"}),De?Object(c.jsx)(d.a,{className:"button",type:"primary",danger:!0,onClick:function(){1!==pe&&0!==pe?Te({type:"error",msg:"please choose a card to play"}):isNaN(Number(pe))||ve!==ge||We(Number(pe))},style:"Your turn!!"===$?{}:{visibility:"hidden"},children:"Play"}):Object(c.jsx)(d.a,{className:"button",type:"primary",onClick:function(){Be(!0),Ee(["start"])},style:De||-1===ge?{visibility:"hidden"}:{},children:"Start"})]})]})},P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,92)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};a(80);i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(B,{})}),document.getElementById("root")),P()}},[[81,1,2]]]);
//# sourceMappingURL=main.3596e7de.chunk.js.map